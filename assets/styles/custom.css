/* ===============================
   Intelligent Predictor â€” Pro UI
   Biznesowy, minimalistyczny theme
   =============================== */

/* ---- Design tokens ---- */
:root{
  /* brand */
  --primary:#4A90E2;
  --primary-600:#3B7BC1;
  --primary-700:#2F6299;

  /* neutrals (dark) */
  --bg:#14171a;
  --bg-elev:#1b1f24;
  --bg-elev-2:#222831;
  --text:#E6E9EE;
  --muted:#A5ADBA;
  --border:#2B3139;
  --shadow: 0 10px 24px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.2);

  /* success / warn / error */
  --ok:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;

  /* shape & spacing */
  --radius:16px;
  --radius-sm:12px;
  --radius-xs:10px;
  --pad:16px;
  --pad-lg:24px;
  --pad-sm:10px;

  /* typography */
  --h1:28px;
  --h2:22px;
  --h3:18px;
  --text-size:15.5px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

/* Light fallback (honor system preference) */
@media (prefers-color-scheme: light){
  :root{
    --bg:#f7f8fb;
    --bg-elev:#ffffff;
    --bg-elev-2:#f1f3f7;
    --text:#14171a;
    --muted:#4b5563;
    --border:#e5e7eb;
    --shadow: 0 10px 24px rgba(0,0,0,.08), 0 2px 6px rgba(0,0,0,.06);
  }
}

/* Reduce animation for accessibility */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important;}
}

/* ---- Base layout ---- */
html, body, .stApp{
  background:var(--bg)!important;
  color:var(--text)!important;
  font-size:var(--text-size);
}
section.main > div { padding-top:.5rem !important; }

/* Typography */
h1, h2, h3{
  letter-spacing:.2px;
  color:var(--text);
  margin: 0 0 .35rem 0;
}
h1{ font-size:var(--h1); font-weight:700; }
h2{ font-size:var(--h2); font-weight:650; }
h3{ font-size:var(--h3); font-weight:600; }
p, li, span{ color:var(--text); }
small, .small, .caption{ color:var(--muted)!important; }

/* Links */
a{
  color:var(--primary);
  text-decoration:none;
}
a:hover{ text-decoration:underline; }

/* ---- Sidebar ---- */
[data-testid="stSidebar"]{
  background:var(--bg-elev) !important;
  border-right:1px solid var(--border);
}
[data-testid="stSidebar"] .stButton>button{
  width:100%;
}

/* ---- Cards (generic containers) ---- */
.block-container>div{
  border-radius:var(--radius);
}
.st-emotion-cache-1r6slb0, /* container class (version dependent) */
.css-1r6slb0{
  background:transparent!important;
}

/* Utility card class via markdown: <div class="card">...</div> */
.card{
  background:var(--bg-elev);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:var(--pad-lg);
  box-shadow: var(--shadow);
}

/* ---- Buttons ---- */
.stButton>button{
  border-radius: var(--radius-sm) !important;
  padding: .65rem 1.05rem !important;
  border: 1px solid transparent !important;
  background: linear-gradient(180deg, var(--primary), var(--primary-600)) !important;
  color: #fff !important;
  font-weight: 600 !important;
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease !important;
  box-shadow: 0 6px 16px rgba(74,144,226,.28);
}
.stButton>button:hover{
  transform: translateY(-1px);
  background: linear-gradient(180deg, var(--primary-600), var(--primary-700)) !important;
}
.stButton>button:focus{
  outline:2px solid rgba(74,144,226,.5) !important;
  outline-offset:2px !important;
}
.stButton>button:disabled{
  filter: grayscale(.3);
  opacity:.6;
  cursor:not-allowed;
}

/* Secondary / outline buttons (use st.markdown with class="btn--ghost") */
.btn--ghost{
  display:inline-block;
  padding:.55rem .95rem;
  border-radius:var(--radius-xs);
  border:1px solid var(--border);
  background:var(--bg-elev);
  color:var(--text);
  transition:background .2s ease, border-color .2s ease;
}
.btn--ghost:hover{ background:var(--bg-elev-2); border-color:var(--primary-600); }

/* ---- Inputs ---- */
.stTextInput>div>div>input,
.stNumberInput input,
.stSelectbox [data-baseweb="select"]>div,
.stTextArea textarea,
.stDateInput>div>input{
  background:var(--bg-elev) !important;
  color:var(--text) !important;
  border:1px solid var(--border) !important;
  border-radius: var(--radius-xs) !important;
  box-shadow:none !important;
}
.stTextInput>div>div>input:focus,
.stNumberInput input:focus,
.stTextArea textarea:focus{
  border-color: var(--primary) !important;
  outline: 2px solid rgba(74,144,226,.25)!important;
}

/* File uploader */
[data-testid="stFileUploader"] section{
  background:var(--bg-elev)!important;
  border:1px dashed var(--border)!important;
  border-radius:var(--radius)!important;
}
[data-testid="stFileUploader"] small{ color:var(--muted)!important; }

/* ---- Tabs ---- */
.stTabs [data-baseweb="tab-list"]{
  border-bottom:1px solid var(--border);
}
.stTabs [data-baseweb="tab"]{
  color:var(--muted);
  padding:.6rem .9rem;
}
.stTabs [aria-selected="true"]{
  color:var(--text);
  border-bottom:2px solid var(--primary);
}

/* ---- Expanders ---- */
.streamlit-expanderHeader{
  background:var(--bg-elev);
  border:1px solid var(--border);
  border-radius: var(--radius-xs);
}
.streamlit-expanderContent{
  background:var(--bg-elev-2);
  border:1px solid var(--border);
  border-top:none;
  border-radius: 0 0 var(--radius-xs) var(--radius-xs);
}

/* ---- Tables / DataFrames ---- */
[data-testid="stDataFrame"] div[role="table"],
[data-testid="stTable"]{
  border-radius: var(--radius);
  overflow:hidden;
  border:1px solid var(--border);
  background:var(--bg-elev);
}
[data-testid="stDataFrame"] th{
  background:var(--bg-elev-2)!important;
  color:var(--text)!important;
  font-weight:600!important;
  border-bottom:1px solid var(--border)!important;
}
[data-testid="stDataFrame"] td{
  border-bottom:1px solid var(--border)!important;
}
[data-testid="stDataFrame"] .blank{ background:transparent!important; }

/* ---- Metrics ---- */
[data-testid="stMetric"]{
  background:var(--bg-elev);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--pad);
  box-shadow: var(--shadow);
}
[data-testid="stMetric"] [data-testid="stMetricValue"]{
  font-size: 1.35rem;
  font-weight: 700;
}
[data-testid="stMetricDelta"] svg{ display:none; }
[data-testid="stMetricDelta"]{
  font-family: var(--mono);
  padding:.1rem .5rem;
  border-radius:10px;
  background: rgba(34,197,94,.12);
  color: var(--ok);
}
[data-testid="stMetricDelta"][data-testid*="down"]{
  background: rgba(239,68,68,.12);
  color: var(--err);
}

/* ---- Status messages ---- */
.stAlert{
  border-radius: var(--radius);
  border:1px solid var(--border);
}
.stAlert[data-baseweb="notifiation"]{ box-shadow: var(--shadow); }

/* ---- Progress / Spinners ---- */
[data-testid="stProgressBar"] div>div{
  background: var(--primary)!important;
}
.stSpinner > div{
  background:var(--bg-elev)!important;
  color:var(--text)!important;
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* ---- Code / JSON / Pre ---- */
pre, code, kbd, samp{
  font-family: var(--mono) !important;
  background: var(--bg-elev)!important;
  color: var(--text)!important;
  border:1px solid var(--border)!important;
  border-radius: var(--radius-xs)!important;
  padding:.5rem .75rem !important;
}

/* ---- Plotly tweaks ---- */
.js-plotly-plot .plotly .main-svg{
  border-radius: var(--radius);
}
.js-plotly-plot{
  background: var(--bg-elev)!important;
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: var(--pad);
}

/* ---- Download buttons ---- */
.stDownloadButton>button{
  border-radius: var(--radius-sm)!important;
  border:1px solid var(--border)!important;
  background: var(--bg-elev)!important;
  color: var(--text)!important;
}
.stDownloadButton>button:hover{ border-color: var(--primary)!important; }

/* ---- Toasty micro-animations ---- */
.stButton>button, .btn--ghost, .stDownloadButton>button{
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease !important;
}
